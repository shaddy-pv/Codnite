# Environment Variables Template

This file contains all the environment variables used in the Codnite application. Copy this file to `.env` and update the values according to your environment.

## Database Configuration

# PostgreSQL Database URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/codnite_prod

# Test Database URL (for testing)
DATABASE_URL_TEST=postgresql://postgres:password@localhost:5432/codnite_test

# PostgreSQL Configuration
POSTGRES_DB=codnite_prod
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database Connection Pool Settings
MAX_CONNECTIONS=20
MIN_CONNECTIONS=5
CONNECTION_TIMEOUT=2000
QUERY_TIMEOUT=10000
STATEMENT_TIMEOUT=10000

## Redis Configuration

# Redis Connection URL
# Format: redis://username:password@host:port/database
REDIS_URL=redis://localhost:6379

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Redis Connection Settings
REDIS_CONNECT_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=5000
REDIS_RETRY_DELAY_ON_FAILOVER=100
REDIS_MAX_RETRIES_PER_REQUEST=3

## Application Configuration

# Node Environment
NODE_ENV=production

# Application Port
PORT=3000

# Application URL
APP_URL=http://localhost:3000

# Frontend URL
FRONTEND_URL=http://localhost:5173

# API Base URL
API_URL=http://localhost:3000/api

## Authentication & Security

# JWT Secret Key (minimum 32 characters)
JWT_SECRET=your_super_secret_jwt_key_minimum_32_characters_long

# JWT Configuration
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=codnite
JWT_AUDIENCE=codnite-users

# Session Secret
SESSION_SECRET=your_session_secret_key

# Password Hashing
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# CORS Configuration
CORS_ORIGIN=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

## File Upload Configuration

# Maximum file size (in bytes)
MAX_FILE_SIZE=5242880

# Upload path
UPLOAD_PATH=./uploads

# Allowed MIME types
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf,text/plain

# File storage configuration
FILE_STORAGE_TYPE=local
FILE_STORAGE_PATH=./uploads

## Email Configuration

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# Email Settings
FROM_EMAIL=noreply@codnite.com
FROM_NAME=Codnite Team

# Email Templates
EMAIL_TEMPLATES_PATH=./templates/email

## CDN Configuration

# CDN Provider (cloudinary, aws, local)
CDN_PROVIDER=cloudinary

# CDN Base URL
CDN_URL=https://res.cloudinary.com/your-cloud

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your_bucket_name

## Monitoring & Logging

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Log Format (json, simple)
LOG_FORMAT=json

# Log File Path
LOG_FILE_PATH=./logs/app.log

# Enable Metrics
ENABLE_METRICS=true

# Metrics Port
METRICS_PORT=9090

# Prometheus Configuration
PROMETHEUS_ENDPOINT=/api/metrics

# Grafana Configuration
GRAFANA_PORT=3001
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=admin

## Security Configuration

# Security Headers
SECURITY_HEADERS=true

# Content Security Policy
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# HSTS Configuration
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# XSS Protection
XSS_PROTECTION=true

# Clickjacking Protection
X_FRAME_OPTIONS=SAMEORIGIN

# Content Type Options
X_CONTENT_TYPE_OPTIONS=nosniff

# Referrer Policy
REFERRER_POLICY=strict-origin-when-cross-origin

## SSL/TLS Configuration

# SSL Certificate Path
SSL_CERT_PATH=/etc/ssl/certs/cert.pem

# SSL Private Key Path
SSL_KEY_PATH=/etc/ssl/private/key.pem

# SSL Configuration
SSL_ENABLED=false
SSL_PORT=443

## Performance Configuration

# Enable Caching
ENABLE_CACHING=true

# Cache TTL (in seconds)
CACHE_TTL=3600

# Cache Max Memory
CACHE_MAX_MEMORY=512mb

# Cache Eviction Policy
CACHE_EVICTION_POLICY=allkeys-lru

# Compression
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

## Backup Configuration

# Backup Schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup Retention (in days)
BACKUP_RETENTION_DAYS=30

# Backup Path
BACKUP_PATH=./backups

# Backup Compression
BACKUP_COMPRESSION=true

## Development Configuration

# Hot Reload
HOT_RELOAD=true

# Source Maps
SOURCE_MAPS=true

# Debug Mode
DEBUG=false

# Development Tools
DEV_TOOLS=true

## Testing Configuration

# Test Database URL
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/codnite_test

# Test Redis URL
TEST_REDIS_URL=redis://localhost:6379/1

# Test Environment
TEST_ENV=true

# Test Timeout
TEST_TIMEOUT=10000

## Production Configuration

# Production Environment
PRODUCTION=true

# Production URL
PRODUCTION_URL=https://codnite.com

# Production API URL
PRODUCTION_API_URL=https://api.codnite.com

# Production Frontend URL
PRODUCTION_FRONTEND_URL=https://app.codnite.com

## Staging Configuration

# Staging Environment
STAGING=true

# Staging URL
STAGING_URL=https://staging.codnite.com

# Staging API URL
STAGING_API_URL=https://api-staging.codnite.com

# Staging Frontend URL
STAGING_FRONTEND_URL=https://app-staging.codnite.com

## External Services

# GitHub Integration
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# LinkedIn OAuth
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# Twitter OAuth
TWITTER_CLIENT_ID=your_twitter_client_id
TWITTER_CLIENT_SECRET=your_twitter_client_secret

## Analytics Configuration

# Google Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Mixpanel
MIXPANEL_TOKEN=your_mixpanel_token

# Sentry Error Tracking
SENTRY_DSN=your_sentry_dsn
SENTRY_ENVIRONMENT=production

# New Relic Monitoring
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=Codnite

## Payment Configuration

# Stripe Configuration
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal Configuration
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox

## Notification Configuration

# Push Notifications
PUSH_NOTIFICATIONS_ENABLED=true
PUSH_NOTIFICATIONS_VAPID_PUBLIC_KEY=your_vapid_public_key
PUSH_NOTIFICATIONS_VAPID_PRIVATE_KEY=your_vapid_private_key

# Webhook Configuration
WEBHOOK_SECRET=your_webhook_secret
WEBHOOK_URL=https://your-domain.com/webhooks

## Feature Flags

# Feature Flags
FEATURE_FLAGS_ENABLED=true
FEATURE_FLAGS_PROVIDER=launchdarkly
FEATURE_FLAGS_SDK_KEY=your_launchdarkly_sdk_key

# Individual Feature Flags
FEATURE_CHAT_ENABLED=true
FEATURE_VIDEO_CALLS_ENABLED=false
FEATURE_AI_ASSISTANT_ENABLED=true
FEATURE_DARK_MODE_ENABLED=true

## Custom Configuration

# Custom Environment Variables
CUSTOM_CONFIG_ENABLED=false
CUSTOM_CONFIG_PATH=./config/custom.json

# Custom API Keys
CUSTOM_API_KEY_1=your_custom_api_key_1
CUSTOM_API_KEY_2=your_custom_api_key_2

# Custom Settings
CUSTOM_SETTING_1=value1
CUSTOM_SETTING_2=value2

## Environment-Specific Overrides

# Development Overrides
if [ "$NODE_ENV" = "development" ]; then
  LOG_LEVEL=debug
  DEBUG=true
  HOT_RELOAD=true
  SOURCE_MAPS=true
fi

# Staging Overrides
if [ "$NODE_ENV" = "staging" ]; then
  LOG_LEVEL=info
  DEBUG=false
  ENABLE_METRICS=true
fi

# Production Overrides
if [ "$NODE_ENV" = "production" ]; then
  LOG_LEVEL=warn
  DEBUG=false
  ENABLE_METRICS=true
  SSL_ENABLED=true
  COMPRESSION_ENABLED=true
fi

## Notes

# Important Notes:
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords for all services
# 3. Rotate secrets regularly
# 4. Use environment-specific values for different deployments
# 5. Keep sensitive information in secure secret management systems
# 6. Validate all environment variables on application startup
# 7. Use proper error handling for missing environment variables
# 8. Document any custom environment variables in your team's documentation